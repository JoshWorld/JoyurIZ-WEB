(this.webpackJsonpupload=this.webpackJsonpupload||[]).push([[0],{112:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(17),i=t.n(s),o=(t(74),t(12)),c=t.n(o),l=t(19),u=t(49),m=t(50),h=t(20),d=t(63),p=t(64),f=t(51),v=t(25),g=t.n(v),E=t(31),w=t(52),b=t.n(w),N=(t(43),t(62)),y=t(126),k=t(127),x=t(56),B=t.n(x),C=t(32),O=t.n(C),j={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",width:"270px",transform:"translate(-50%, -50%)",padding:"30px"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}};function S(e){var a=r.a.useState(!1),t=Object(N.a)(a,2),n=t[0],s=t[1];function i(e){return o.apply(this,arguments)}function o(){return(o=Object(l.a)(c.a.mark((function a(t){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u(t);case 2:s(!1),e.clear(),e.banner();case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function u(e){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(c.a.mark((function a(t){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""===e.fileName){a.next=12;break}return a.prev=1,a.next=4,g.a.post("http://localhost:8080/userTrain",{fileName:e.fileName,userTrain:t,hash:e.hash});case 4:return a.abrupt("return",a.sent);case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0);case 10:a.next=13;break;case 12:console.log("\ub2f9\uc2e0\uc740,,\uc815\ub9d0,,\ub098\uc05c,,\uc0ac\ub78c\uc774\uc608\uc694");case 13:case"end":return a.stop()}}),a,null,[[1,7]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"userTrain"},r.a.createElement(y.a,{className:"wrong",variant:"contained",color:"secondary",onClick:function(e){return s(!0)}},"\ud2c0\ub838\uc5b4\uc694 \u315c.\u315c"),r.a.createElement(O.a,{closeTimeoutMS:500,isOpen:n,onRequestClose:function(e){return s(!1)},style:j,contentLabel:"Example Modal"},r.a.createElement("div",{id:"exitButton"},r.a.createElement(k.a,{id:"exitIcon",size:"small",onClick:function(e){return s(!1)}},r.a.createElement(B.a,null))),r.a.createElement("div",{className:"member"},r.a.createElement("h2",null,"\uc815\ub2f5\uc744 \uc54c\ub824\uc8fc\uc138\uc694"),r.a.createElement("p",null,"\uc9c0\uae08 \uc785\ub825\ud558\uc2e0 \ub2f5\ubcc0\uc740 \ucd94\ud6c4\uc5d0 \ubc18\uc601\ub429\ub2c8\ub2e4."),r.a.createElement("div",null,r.a.createElement(y.a,{id:"chaewon",variant:"contained",onClick:function(e){return i("Chaewon")}},"\uae40\ucc44\uc6d0"),r.a.createElement(y.a,{id:"yuri",variant:"contained",onClick:function(e){return i("Yuri")}},"\uc870\uc720\ub9ac"),r.a.createElement(y.a,{id:"yena",variant:"contained",onClick:function(e){return i("Yena")}},"\ucd5c\uc608\ub098")))))}O.a.setAppElement("#root");var R=t(61),D=t(28),I=t.n(D),T=t(58),P=t.n(T);function Y(){var e=Object(f.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return Y=function(){return e},e}var z=Object(E.css)(Y()),F=function(e){Object(p.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).state={error:!1,fail:!1,predictions:[],loading:!1,fileName:"",hash:"",vote:[],showResult:!1,bannerStatus:!1,reload:!1},n.onDrop=n.onDrop.bind(Object(h.a)(n)),n.clear=n.clear.bind(Object(h.a)(n)),n.showBanner=n.showBanner.bind(Object(h.a)(n)),n}return Object(m.a)(t,[{key:"clear",value:function(){this.setState({error:!1,fail:!1,predictions:[],loading:!1,fileName:"",hash:"",vote:[],showResult:!1,bannerStatus:!1,reload:!0})}},{key:"showBanner",value:function(e){this.setState(e),setTimeout(function(){this.setState({bannerStatus:!1,error:!1,fail:!1})}.bind(this),3e3)}},{key:"onDrop",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,s,i,o,u,m,h,d,p,f,v,E,w,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({predictions:[],loading:!0,fileName:"",hash:"",vote:[],showResult:!1}),t=a,(n=new FileReader).onload=function(){document.getElementById("preview").src=n.result},n.readAsDataURL(t[0]),r=document.getElementById("imageCanvas"),(s=r.getContext("2d")).clearRect(0,0,r.width,r.height),!(t.length>0)){e.next=16;break}return(i=new FormData).append("image",t[0],t[0].name),o=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("http://192.168.0.2:8080/imageUpload",i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),e.next=14,o();case 14:(u=e.sent)?(m=document.getElementById("preview"),r.width=m.width,r.height=m.height,h=Math.max(r.width/m.width,r.height/m.height),d=r.width/2-m.width/2*h,p=r.height/2-m.height/2*h,!0===u.data.success?(s.lineWidth="5",s.strokeStyle="lightgreen",f=u.data,v=f.top,E=f.bottom,w=f.left,b=f.right,s.rect(w*h,v*h,(b-w)*h,(E-v)*h),s.drawImage(m,d,p,m.width*h,m.height*h),s.stroke(),this.setState({predictions:[(N=u.data.predictions,{Yuri:"\uc870\uc720\ub9ac",Yena:"\ucd5c\uc608\ub098",Chaewon:"\uae40\ucc44\uc6d0"}[N])],loading:!1,fileName:u.data.path,hash:u.data.hash,vote:[u.data.voteChaewon,u.data.voteYuri,u.data.voteYena],showResult:!0})):(s.drawImage(m,d,p,m.width*h,m.height*h),this.setState({predictions:["fail to find"],loading:!1,fileName:u.data.path,hash:u.data.hash}),this.showBanner({fail:!0}))):this.showBanner({error:!0});case 16:case"end":return e.stop()}var N}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"back"},r.a.createElement(I.a,{className:"banner",title:"\uc751\ub2f5\uc774 \uc81c\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",showBanner:this.state.bannerStatus}),r.a.createElement(I.a,{css:{backgroundColor:"red",color:"white"},className:"banner",title:"\uc798\ubabb\ub41c \ud30c\uc77c\uc774\uac70\ub098, \uc11c\ubc84\uac00 \uc751\ub2f5\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",showBanner:this.state.error}),r.a.createElement(I.a,{css:{backgroundColor:"yellow"},className:"banner",title:"\uc5bc\uad74\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",showBanner:this.state.fail}),r.a.createElement("div",{className:"bodyDiv"},r.a.createElement("img",{className:"preview",id:"preview"}),r.a.createElement("div",{className:"upload"},r.a.createElement(k.a,{className:"iconButton",onClick:this.clear,size:"small"},r.a.createElement(P.a,{className:"refresh",fontSize:"large"})),r.a.createElement("div",{className:"upload-files"},r.a.createElement("header",null,r.a.createElement("p",null,r.a.createElement("span",{className:"up"},"\uc870\uc720\ub9ac\uc988"),r.a.createElement("span",{className:"load"},"\ud310\ubcc4\uae30"))),r.a.createElement("div",{className:"body",id:"drop"},this.state.loading||this.state.showResult?r.a.createElement("div",{className:"imageBox"},r.a.createElement("div",{className:"imageTable"},r.a.createElement("canvas",{className:"imageCanvas",id:"imageCanvas"},"\uc774 \ube0c\ub77c\uc6b0\uc800\ub294 'canvas'\uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),this.state.showResult?r.a.createElement("div",{className:"resultBox"},r.a.createElement("div",{className:"resultDiv"},"\ubd84\uc11d \uacb0\uacfc : ",this.state.predictions[0]),r.a.createElement("div",{className:"resultDiv"},r.a.createElement(S,{banner:this.showBanner,clear:this.clear,fileName:this.state.fileName,hash:this.state.hash,prediction:this.state.predictions[0]}))):null,r.a.createElement("div",{className:"loadingBox"},r.a.createElement(b.a,{css:z,size:25,color:"#FF509F",loading:this.state.loading})))):r.a.createElement("div",{className:"uploadBox"},r.a.createElement(R.a,{multiple:!1,onDrop:function(a){return e.onDrop(a)}},(function(a){var t=a.getRootProps,n=a.getInputProps;return r.a.createElement("section",{className:"dropSection"},r.a.createElement("div",Object.assign({className:"dropBox"},t(e.style)),r.a.createElement("input",Object.assign({className:"dropzone"},n({type:"file",accept:"image/*"}))),r.a.createElement("div",{className:"dropText"},r.a.createElement("p",{className:e.state.reload?"nomalP":"fadeP"},"\uc5c5\ub85c\ub4dc\ud560 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8\ud558\uac70\ub098"),r.a.createElement("p",{className:e.state.reload?"nomalP":"fadeP"},"\ubc15\uc2a4\ub97c",r.a.createElement("span",{style:{color:"lightBlue"}}," \ud074\ub9ad"),"\ud574\uc8fc\uc138\uc694"))))}))))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=t(59),W=t(16);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M.a,{basename:"/JoyurIZ-WEB"},r.a.createElement(W.a,{exact:!0,path:"/",component:F}),r.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},43:function(e,a,t){},69:function(e,a,t){e.exports=t(112)},74:function(e,a,t){}},[[69,1,2]]]);
//# sourceMappingURL=main.73bf552c.chunk.js.map