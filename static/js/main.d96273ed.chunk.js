(this.webpackJsonpupload=this.webpackJsonpupload||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),i=a.n(s),o=(a(74),a(25)),c=a(26),l=a(30),u=a(31),m=a(35),h=a(16),d=(a(75),a(12)),p=a.n(d),f=a(20),v=a(19),g=a(54),E=a(27),w=a.n(E),b=a(36),N=a(55),y=a.n(N),k=(a(48),a(64)),x=a(127),B=a(128),O=a(59),j=a.n(O),C=a(37),S=a.n(C),R={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",width:"270px",transform:"translate(-50%, -50%)",padding:"30px"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}};function D(e){var t=r.a.useState(!1),a=Object(k.a)(t,2),n=a[0],s=a[1];function i(e){return o.apply(this,arguments)}function o(){return(o=Object(f.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(a);case 2:s(!1),e.clear(),e.banner();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(e){return l.apply(this,arguments)}function l(){return(l=Object(f.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.fileName){t.next=12;break}return t.prev=1,t.next=4,w.a.post("http://localhost:8080/userTrain",{fileName:e.fileName,userTrain:a,hash:e.hash});case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:t.next=13;break;case 12:console.log("\ub2f9\uc2e0\uc740,,\uc815\ub9d0,,\ub098\uc05c,,\uc0ac\ub78c\uc774\uc608\uc694");case 13:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"userTrain"},r.a.createElement(x.a,{className:"wrong",variant:"contained",color:"secondary",onClick:function(e){return s(!0)}},"\ud2c0\ub838\uc5b4\uc694 \u315c.\u315c"),r.a.createElement(S.a,{closeTimeoutMS:500,isOpen:n,onRequestClose:function(e){return s(!1)},style:R,contentLabel:"Example Modal"},r.a.createElement("div",{id:"exitButton"},r.a.createElement(B.a,{id:"exitIcon",size:"small",onClick:function(e){return s(!1)}},r.a.createElement(j.a,null))),r.a.createElement("div",{className:"member"},r.a.createElement("h2",null,"\uc815\ub2f5\uc744 \uc54c\ub824\uc8fc\uc138\uc694"),r.a.createElement("p",null,"\uc9c0\uae08 \uc785\ub825\ud558\uc2e0 \ub2f5\ubcc0\uc740 \ucd94\ud6c4\uc5d0 \ubc18\uc601\ub429\ub2c8\ub2e4."),r.a.createElement("div",null,r.a.createElement(x.a,{id:"chaewon",variant:"contained",onClick:function(e){return i("Chaewon")}},"\uae40\ucc44\uc6d0"),r.a.createElement(x.a,{id:"yuri",variant:"contained",onClick:function(e){return i("Yuri")}},"\uc870\uc720\ub9ac"),r.a.createElement(x.a,{id:"yena",variant:"contained",onClick:function(e){return i("Yena")}},"\ucd5c\uc608\ub098")))))}S.a.setAppElement("#root");var I=a(63),T=a(32),P=a.n(T),Y=a(61),z=a.n(Y);function F(){var e=Object(g.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return F=function(){return e},e}var M=Object(b.css)(F()),W=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={error:!1,fail:!1,predictions:[],loading:!1,fileName:"",hash:"",vote:[],showResult:!1,bannerStatus:!1,reload:!1},n.onDrop=n.onDrop.bind(Object(v.a)(n)),n.clear=n.clear.bind(Object(v.a)(n)),n.showBanner=n.showBanner.bind(Object(v.a)(n)),n}return Object(c.a)(a,[{key:"clear",value:function(){this.setState({error:!1,fail:!1,predictions:[],loading:!1,fileName:"",hash:"",vote:[],showResult:!1,bannerStatus:!1,reload:!0})}},{key:"showBanner",value:function(e){this.setState(e),setTimeout(function(){this.setState({bannerStatus:!1,error:!1,fail:!1})}.bind(this),3e3)}},{key:"onDrop",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r,s,i,o,c,l,u,m,h,d,v,g,E,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({predictions:[],loading:!0,fileName:"",hash:"",vote:[],showResult:!1}),a=t,(n=new FileReader).onload=function(){document.getElementById("preview").src=n.result},n.readAsDataURL(a[0]),r=document.getElementById("imageCanvas"),(s=r.getContext("2d")).clearRect(0,0,r.width,r.height),!(a.length>0)){e.next=16;break}return(i=new FormData).append("image",a[0],a[0].name),o=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post("http://192.168.0.2:8080/imageUpload",i);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),e.next=14,o();case 14:(c=e.sent)?(l=document.getElementById("preview"),r.width=l.width,r.height=l.height,u=Math.max(r.width/l.width,r.height/l.height),m=r.width/2-l.width/2*u,h=r.height/2-l.height/2*u,!0===c.data.success?(s.lineWidth="5",s.strokeStyle="lightgreen",d=c.data,v=d.top,g=d.bottom,E=d.left,b=d.right,s.rect(E*u,v*u,(b-E)*u,(g-v)*u),s.drawImage(l,m,h,l.width*u,l.height*u),s.stroke(),this.setState({predictions:[(N=c.data.predictions,{Yuri:"\uc870\uc720\ub9ac",Yena:"\ucd5c\uc608\ub098",Chaewon:"\uae40\ucc44\uc6d0"}[N])],loading:!1,fileName:c.data.path,hash:c.data.hash,vote:[c.data.voteChaewon,c.data.voteYuri,c.data.voteYena],showResult:!0})):(s.drawImage(l,m,h,l.width*u,l.height*u),this.setState({predictions:["fail to find"],loading:!1,fileName:c.data.path,hash:c.data.hash}),this.showBanner({fail:!0}))):this.showBanner({error:!0});case 16:case"end":return e.stop()}var N}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"back"},r.a.createElement(P.a,{className:"banner",title:"\uc751\ub2f5\uc774 \uc81c\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",showBanner:this.state.bannerStatus}),r.a.createElement(P.a,{css:{backgroundColor:"red",color:"white"},className:"banner",title:"\uc798\ubabb\ub41c \ud30c\uc77c\uc774\uac70\ub098, \uc11c\ubc84\uac00 \uc751\ub2f5\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",showBanner:this.state.error}),r.a.createElement(P.a,{css:{backgroundColor:"yellow"},className:"banner",title:"\uc5bc\uad74\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",showBanner:this.state.fail}),r.a.createElement("div",{className:"bodyDiv"},r.a.createElement("img",{className:"preview",id:"preview"}),r.a.createElement("div",{className:"upload"},r.a.createElement(B.a,{className:"iconButton",onClick:this.clear,size:"small"},r.a.createElement(z.a,{className:"refresh",fontSize:"large"})),r.a.createElement("div",{className:"upload-files"},r.a.createElement("header",null,r.a.createElement("p",null,r.a.createElement("span",{className:"up"},"\uc870\uc720\ub9ac\uc988"),r.a.createElement("span",{className:"load"},"\ud310\ubcc4\uae30"))),r.a.createElement("div",{className:"body",id:"drop"},this.state.loading||this.state.showResult?r.a.createElement("div",{className:"imageBox"},r.a.createElement("div",{className:"imageTable"},r.a.createElement("canvas",{className:"imageCanvas",id:"imageCanvas"},"\uc774 \ube0c\ub77c\uc6b0\uc800\ub294 'canvas'\uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),this.state.showResult?r.a.createElement("div",{className:"resultBox"},r.a.createElement("div",{className:"resultDiv"},"\ubd84\uc11d \uacb0\uacfc : ",this.state.predictions[0]),r.a.createElement("div",{className:"resultDiv"},r.a.createElement(D,{banner:this.showBanner,clear:this.clear,fileName:this.state.fileName,hash:this.state.hash,prediction:this.state.predictions[0]}))):null,r.a.createElement("div",{className:"loadingBox"},r.a.createElement(y.a,{css:M,size:25,color:"#FF509F",loading:this.state.loading})))):r.a.createElement("div",{className:"uploadBox"},r.a.createElement(I.a,{multiple:!1,onDrop:function(t){return e.onDrop(t)}},(function(t){var a=t.getRootProps,n=t.getInputProps;return r.a.createElement("section",{className:"dropSection"},r.a.createElement("div",Object.assign({className:"dropBox"},a(e.style)),r.a.createElement("input",Object.assign({className:"dropzone"},n({type:"file",accept:"image/*"}))),r.a.createElement("div",{className:"dropText"},r.a.createElement("p",{className:e.state.reload?"nomalP":"fadeP"},"\uc5c5\ub85c\ub4dc\ud560 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8\ud558\uac70\ub098"),r.a.createElement("p",{className:e.state.reload?"nomalP":"fadeP"},"\ubc15\uc2a4\ub97c",r.a.createElement("span",{style:{color:"lightBlue"}}," \ud074\ub9ad"),"\ud574\uc8fc\uc138\uc694"))))}))))))))}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:W}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,a){},69:function(e,t,a){e.exports=a(113)},74:function(e,t,a){},75:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.d96273ed.chunk.js.map